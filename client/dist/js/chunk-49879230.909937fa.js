(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-49879230"],{"73cf":function(e,r,t){"use strict";t.r(r);var a=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",{staticClass:"view"},[t("Form",{on:{emit:e.emitForm}})],1)},o=[],s=(t("96cf"),t("3b8d")),l=t("d225"),i=t("b0b4"),n=t("308d"),u=t("6bb5"),m=t("4e2b"),c=t("9ab4"),p=t("60a3"),d=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",{staticClass:"view"},[t("el-form",{ref:"ruleForm",attrs:{"label-width":"120px",model:e.ruleForm,rules:e.rules},on:{submit:function(r){return r.preventDefault(),e.onSubmit(r)}},nativeOn:{keyup:function(r){return!r.type.indexOf("key")&&e._k(r.keyCode,"enter",13,r.key,"Enter")?null:e.submitForm("ruleForm")}}},[t("h2",[e._v("注册")]),t("el-form-item",{attrs:{prop:"name",label:"用户名"}},[t("el-input",{attrs:{autofocus:"",placeholder:"长度在2到30个字符之间"},model:{value:e.ruleForm.name,callback:function(r){e.$set(e.ruleForm,"name",r)},expression:"ruleForm.name"}})],1),t("el-form-item",{attrs:{prop:"email",label:"邮箱"}},[t("el-autocomplete",{attrs:{"fetch-suggestions":e.emailSearch,placeholder:"请输入正确格式的邮箱"},model:{value:e.ruleForm.email,callback:function(r){e.$set(e.ruleForm,"email","string"===typeof r?r.trim():r)},expression:"ruleForm.email"}})],1),t("el-form-item",{attrs:{prop:"password",label:"密码"}},[t("el-input",{attrs:{type:"password",placeholder:"6~20位字母、数字或英文符号组合，区分大小写"},model:{value:e.ruleForm.password,callback:function(r){e.$set(e.ruleForm,"password",r)},expression:"ruleForm.password"}})],1),t("el-form-item",{attrs:{prop:"passwordConfirm",label:"确认密码"}},[t("el-input",{attrs:{type:"password",placeholder:"6~20位字母、数字或英文符号组合，区分大小写"},model:{value:e.ruleForm.passwordConfirm,callback:function(r){e.$set(e.ruleForm,"passwordConfirm",r)},expression:"ruleForm.passwordConfirm"}})],1),t("el-form-item",{attrs:{prop:"role",label:"角色"}},[t("el-select",{model:{value:e.ruleForm.role,callback:function(r){e.$set(e.ruleForm,"role",r)},expression:"ruleForm.role"}},e._l(e.optionRole,function(e){return t("el-option",{key:e.key,attrs:{label:e.role,value:e.key}})}),1)],1),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:function(r){return e.submitForm("ruleForm")}}},[e._v("确认")]),t("p",[t("router-link",{staticClass:"link-text",staticStyle:{float:"right"},attrs:{to:"/login"}},[e._v("已有账号，立即登录")])],1)],1)],1)],1)},f=[],b=(t("7f7f"),t("013f")),g=t("1aab"),h=function(e){function r(){var e;return Object(l["a"])(this,r),e=Object(n["a"])(this,Object(u["a"])(r).apply(this,arguments)),e.ruleForm={name:"",email:"",password:"",passwordConfirm:"",role:""},e.rules={name:[{message:"不能为空",trigger:"blur",required:!0},{message:"长度在2到30个字符之间",min:2,max:30,trigger:"blur"}],email:[{message:"不能为空",trigger:"blur",required:!0},{message:"邮箱格式不正确",type:"email",trigger:"blur",required:!0}],password:[{message:"不能为空",trigger:"blur",required:!0},{validator:e.isPwdLong,trigger:"blur"},{validator:e.pwdRules,trigger:"blur"},{message:"请填写正确的密码",pattern:/^(?![0-9]+$)(?![a-zA-Z]+$)[0-9A-Za-z]{6,20}$/,trigger:"blur"}],passwordConfirm:[{message:"不能为空",trigger:"blur",required:!0},{validator:e.pwdConfirm(Object(b["a"])(e)),trigger:"blur"}],role:{message:"不能为空",trigger:"blur",required:!0}},e.optionRole=[{key:"editor",role:"编辑",des:"Normal Editor. Can see all pages except permission page"},{key:"visitor",role:"游客",des:"Just a visitor. Can only see the home page and the document page"}],e}return Object(m["a"])(r,e),Object(i["a"])(r,[{key:"submitForm",value:function(e){var r=this;this.$refs[e].validate(function(e){e&&r.executeEmit()})}},{key:"executeEmit",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.emit({data:{name:this.ruleForm.name,email:this.ruleForm.email,password:this.ruleForm.password,role:this.ruleForm.role}})}},{key:"emit",value:function(e){this.$emit("emit",e)}}]),r}(Object(p["b"])(g["c"],g["a"]));h=c["a"]([Object(p["a"])({components:{}})],h);var v=h,F=v,w=(t("ed5c"),t("2877")),y=Object(w["a"])(F,d,f,!1,null,"1d330073",null),k=y.exports,O=function(e){function r(){return Object(l["a"])(this,r),Object(n["a"])(this,Object(u["a"])(r).apply(this,arguments))}return Object(m["a"])(r,e),Object(i["a"])(r,[{key:"emitForm",value:function(e){var r=e.data;this.request({api:"/user/register",data:r,method:"post"})}},{key:"request",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark(function e(r){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$request(r);case 2:t=e.sent,t.status>=200&&t.status<300&&(this.$message({message:"注册成功",type:"success"}),this.$router.push("/login"));case 4:case"end":return e.stop()}},e,this)}));function r(r){return e.apply(this,arguments)}return r}()}]),r}(p["d"]);O=c["a"]([Object(p["a"])({components:{Form:k}})],O);var j=O,x=j,$=Object(w["a"])(x,a,o,!1,null,null,null);r["default"]=$.exports},"7f7f":function(e,r,t){var a=t("86cc").f,o=Function.prototype,s=/^\s*function ([^ (]*)/,l="name";l in o||t("9e1e")&&a(o,l,{configurable:!0,get:function(){try{return(""+this).match(s)[1]}catch(e){return""}}})},ed50:function(e,r,t){},ed5c:function(e,r,t){"use strict";var a=t("ed50"),o=t.n(a);o.a}}]);